{"blog_post": true, "layout": "post", "title": "우리 동네 국회의원", "aliases": "우리 동네 국회의원", "subtitle": "지역별 국회의원 후보 및 공약 모음 사이트", "thumbnail-img": "우리동네국회의원로고.png", "date": "20240415", "parse-url": "", "sources": "", "categories": ["Side Project"], "tags": ["Python", "Web", "React", "Typescript"], "html": "\n            <div\n            id=\"pygen-1\"\n            class=\"w-full flex items-center justify-center\"\n            style=\"\"\n            >\n                <div\n                id=\"pygen-2\"\n                class=\"w-full flex items-center justify-center\"\n                style=\"\"\n                >\n                    <div\n                    id=\"pygen-3\"\n                    class=\"w-full\"\n                    style=\"max-width:800px;\"\n                    >\n                        <p><a href=\"https://korea-election-2024.github.io/\" target=\"_blank\">우리 동네 국회의원</a></p><p>취미로 2024 대한민국 국회의원 선거를 앞두고 개발한 사이트다. 지도에서 지역을 선택하면 해당 지역의 국회의원 후보 및 정당 공약을 보여준다. 현재는 선거가 다 끝나서 사이트를 내린 상태다. 계속 올려두고 싶지만, 이게 선거기간이 끝나면 후보자 정보를 공개하면 안된다는 법이 있어서 내릴수밖에 없었다. 나중에 시간되면 후보자 정보를 더미데이터로 숨기고 사이트 모양만 남겨서 사이트를 살려볼까 고민 중이다. </p>\n                    </div>\n                </div>\n            </div>\n            \n            <div\n            id=\"pygen-1\"\n            class=\"w-full flex items-center justify-center\"\n            style=\"padding-top: 1.25rem;padding-bottom: 1.25rem;\"\n            >\n                <div\n                id=\"pygen-2\"\n                class=\"w-full flex items-center justify-center\"\n                style=\"--tw-bg-opacity: 1; background-color: rgba(255, 251, 235, var(--tw-bg-opacity));\"\n                >\n                    <div\n                    id=\"pygen-3\"\n                    class=\"w-full\"\n                    style=\"max-width:800px;\"\n                    >\n                        <div class=\"w-full py-5 flex flex-col items-center \">\n        <img class=\"py-5 \" style src=\"/static/obsidian/Pasted image 20240415200019.png\">우리동네 국회의원 사이트 이미지</img>\n        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div\n            id=\"pygen-1\"\n            class=\"w-full flex items-center justify-center\"\n            style=\"\"\n            >\n                <div\n                id=\"pygen-2\"\n                class=\"w-full flex items-center justify-center\"\n                style=\"\"\n                >\n                    <div\n                    id=\"pygen-3\"\n                    class=\"w-full\"\n                    style=\"max-width:800px;\"\n                    >\n                        <h1>사이트 제작 과정</h1><h3>데이터 수집</h3><p>사이트를 만들기 위해서 상당히 많고 다양한 정보를 수집했다. </p><h4><strong>시군구 지리 데이터</strong></h4><p>지도 표시를 위해서 시군구 경계에 대한 데이터가 필요했다. <a href=\"https://www.vworld.kr/dtmk/dtmk_ntads_s002.do?dsId=30015\" target=\"_blank\">브이월드</a>에서 데이터를 구했다. 이 데이터도 그냥 사용할수는 없고, 파이썬으로 파일을 열어서 좌표계를 변화시켜줘야 네이버 지도에서 사용할수 있었다. 최종적으로 json으로 만들어서 asset에 넣어두었다. 근데 사실 지도 데이터는 정말 정밀한데, 이 모든 vertex를 네이버 지도위에 올리면 포인트가 너무 많아서 메모리가 넘쳐서 브라우져가 죽거나 엄청 버벅인다. 그래서 버텍스 개수도 줄이고 이것저것 데이터를 튜닝할수 밖에 없었다. 나중에 다시 비슷한걸 만든다면 네이버 지도를 안쓰고, 그냥 이미지로 만들어서 webgl을 사용해 다이렉트로 렌더링할것 같다. </p><h4><strong>국회의원 후보 데이터</strong></h4><p>지역별 국회의원 후보 데이터 및 지난 선거 투표율 등의 데이터는 <a href=\"https://www.data.go.kr/tcs/dss/selectDataSetList.do?dType=TOTAL&amp;keyword=%EC%84%A0%EA%B1%B0&amp;operator=AND&amp;detailKeyword=&amp;publicDataPk=&amp;recmSe=&amp;detailText=&amp;relatedKeyword=&amp;commaNotInData=&amp;commaAndData=&amp;commaOrData=&amp;must_not=&amp;tabId=&amp;dataSetCoreTf=&amp;coreDataNm=&amp;sort=&amp;relRadio=&amp;orgFullName=&amp;orgFilter=&amp;org=&amp;orgSearch=&amp;currentPage=1&amp;perPage=10&amp;brm=&amp;instt=&amp;svcType=&amp;kwrdArray=&amp;extsn=&amp;coreDataNmArray=&amp;pblonsipScopeCode=\" target=\"_blank\">공공데이터포털</a>에서 구했다. API 형식으로 데이터를 요청해서 로컬 DB에 저장해두었다. 이후 파이썬으로 후보자 정보를 json으로 변환해서 읽는 방식이다. 각 지역별 후보자 목록을 생성할때 고생을 좀 했다. 데이터마다 지역 코드도 다르고, \"전라북도\"로 표시되는 데이터도 있고, \"전북특별자치도\"로 표시되는 데이터도 있다. 이것저것 정말 다양한 케이스가 있어서 좀 성가셨다. </p><h3>사이트 제작</h3><p>사이트는 리액트로 만들었다. 로직과 관련된 코드는 다 직접 작성했지만 (ChatGPT의 도움을 많이 받았다) 코드의 상당수는 파이썬을 이용해 생성했다. 각 지역별로 후보 정보를 로딩하는 loader 코드인데, 이를 손으로 작성할수는 없기에 파이썬으로 아래와 같은 코드를 생성해야했다. 이를 이용해 사용자가 특정한 지역을 클릭하면 해당 지역에 해당하는 후보자 json 파일을 로딩하는 방식이다. </p>\n                    </div>\n                </div>\n            </div>\n            \n            <div\n            id=\"pygen-1\"\n            class=\"w-full flex items-center justify-center\"\n            style=\"padding-top: 2.25rem;padding-bottom: 2.25rem;\"\n            >\n                <div\n                id=\"pygen-2\"\n                class=\"w-full flex items-center justify-center\"\n                style=\"--tw-bg-opacity: 1; background-color: rgba(255, 251, 235, var(--tw-bg-opacity));\"\n                >\n                    <div\n                    id=\"pygen-3\"\n                    class=\"w-full\"\n                    style=\"max-width:800px;\"\n                    >\n                        <div style=\" position: relative; padding-top: 1.25rem; padding-bottom: 1.25rem; margin-top: 1.25rem; margin-bottom: 1.25rem; background-color: #2E3440; border-radius: 1rem; \"> <style scoped> td.linenos { padding-right: 0.5rem; } div.linenodiv { color: #ffffff } table{ table-layout: fixed; color: #ffffff; width: 100%; font-family: \"Almarai\", sans-serif; } table > tbody > tr { display: flex; flex-direction: row; } td.code { width: 100%; overflow-x: auto; } pre { line-height: 125%; } td.linenos .normal { color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px; } span.linenos { color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px; } td.linenos .special { color: #242933; background-color: #D8DEE9; padding-left: 5px; padding-right: 5px; } span.linenos.special { color: #242933; background-color: #D8DEE9; padding-left: 5px; padding-right: 5px; } .code .hll { background-color: #3B4252 } .code .c { color: #616e87; font-style: italic } .code .err { color: #bf616a } .code .esc { color: #d8dee9 } .code .g { color: #d8dee9 } .code .k { color: #81a1c1; font-weight: bold } .code .l { color: #d8dee9 } .code .n { color: #d8dee9 } .code .o { color: #81a1c1; font-weight: bold } .code .x { color: #d8dee9 } .code .p { color: #eceff4 } .code .ch { color: #616e87; font-style: italic } .code .cm { color: #616e87; font-style: italic } .code .cp { color: #5e81ac; font-style: italic } .code .cpf { color: #616e87; font-style: italic } .code .c1 { color: #616e87; font-style: italic } .code .cs { color: #616e87; font-style: italic } .code .gd { color: #bf616a } .code .ge { color: #d8dee9; font-style: italic } .code .ges { color: #d8dee9; font-weight: bold; font-style: italic } .code .gr { color: #bf616a } .code .gh { color: #88c0d0; font-weight: bold } .code .gi { color: #a3be8c } .code .go { color: #d8dee9 } .code .gp { color: #616e88; font-weight: bold } .code .gs { color: #d8dee9; font-weight: bold } .code .gu { color: #88c0d0; font-weight: bold } .code .gt { color: #bf616a } .code .kc { color: #81a1c1; font-weight: bold } .code .kd { color: #81a1c1; font-weight: bold } .code .kn { color: #81a1c1; font-weight: bold } .code .kp { color: #81a1c1 } .code .kr { color: #81a1c1; font-weight: bold } .code .kt { color: #81a1c1 } .code .ld { color: #d8dee9 } .code .m { color: #b48ead } .code .s { color: #a3be8c } .code .na { color: #8fbcbb } .code .nb { color: #81a1c1 } .code .nc { color: #8fbcbb } .code .no { color: #8fbcbb } .code .nd { color: #d08770 } .code .ni { color: #d08770 } .code .ne { color: #bf616a } .code .nf { color: #88c0d0 } .code .nl { color: #d8dee9 } .code .nn { color: #8fbcbb } .code .nx { color: #d8dee9 } .code .py { color: #d8dee9 } .code .nt { color: #81a1c1 } .code .nv { color: #d8dee9 } .code .ow { color: #81a1c1; font-weight: bold } .code .pm { color: #eceff4 } .code .w { color: #d8dee9 } .code .mb { color: #b48ead } .code .mf { color: #b48ead } .code .mh { color: #b48ead } .code .mi { color: #b48ead } .code .mo { color: #b48ead } .code .sa { color: #a3be8c } .code .sb { color: #a3be8c } .code .sc { color: #a3be8c } .code .dl { color: #a3be8c } .code .sd { color: #616e87 } .code .s2 { color: #a3be8c } .code .se { color: #ebcb8b } .code .sh { color: #a3be8c } .code .si { color: #a3be8c } .code .sx { color: #a3be8c } .code .sr { color: #ebcb8b } .code .s1 { color: #a3be8c } .code .ss { color: #a3be8c } .code .bp { color: #81a1c1 } .code .fm { color: #88c0d0 } .code .vc { color: #d8dee9 } .code .vg { color: #d8dee9 } .code .vi { color: #d8dee9 } .code .vm { color: #d8dee9 } .code .il { color: #b48ead }</style>  <div onclick=' (function () { navigator.clipboard.writeText(`// This code is generated from candidates.generate_candidate_loader_tsx function\nimport canddiate100152821 from \"../../../assets/candidatejson/100152821.json\";\nimport canddiate100151969 from \"../../../assets/candidatejson/100151969.json\";\nimport canddiate100153028 from \"../../../assets/candidatejson/100153028.json\";\nimport canddiate100152721 from \"../../../assets/candidatejson/100152721.json\";\nimport canddiate100152084 from \"../../../assets/candidatejson/100152084.json\";\nexport default function loadCandidateJson(){\nlet regionCandidateJson: any[] = [];\nregionCandidateJson.push(canddiate100152821);\nregionCandidateJson.push(canddiate100151969);\nregionCandidateJson.push(canddiate100153028);\nregionCandidateJson.push(canddiate100152721);\nregionCandidateJson.push(canddiate100152084);\nreturn regionCandidateJson;\n}\n`); alert(\"Source code copied to clipboard!\"); })(); ' style=\" position: absolute; right: 0px; top: 0px; text-align: right; color: #fff; cursor: pointer; padding: 0.5rem 0.5rem; border-radius: 0.5rem; \" >📋 COPY</div>  <div class=\"code\"><table class=\"codetable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre><span class=\"normal\"> 1</span>\r\n<span class=\"normal\"> 2</span>\r\n<span class=\"normal\"> 3</span>\r\n<span class=\"normal\"> 4</span>\r\n<span class=\"normal\"> 5</span>\r\n<span class=\"normal\"> 6</span>\r\n<span class=\"normal\"> 7</span>\r\n<span class=\"normal\"> 8</span>\r\n<span class=\"normal\"> 9</span>\r\n<span class=\"normal\">10</span>\r\n<span class=\"normal\">11</span>\r\n<span class=\"normal\">12</span>\r\n<span class=\"normal\">13</span>\r\n<span class=\"normal\">14</span>\r\n<span class=\"normal\">15</span></pre></div></td><td class=\"code\"><div><pre><span></span><code><span class=\"c1\">// This code is generated from candidates.generate_candidate_loader_tsx function</span>\r\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">canddiate100152821</span><span class=\"w\"> </span><span class=\"kr\">from</span><span class=\"w\"> </span><span class=\"s2\">&quot;../../../assets/candidatejson/100152821.json&quot;</span><span class=\"p\">;</span>\r\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">canddiate100151969</span><span class=\"w\"> </span><span class=\"kr\">from</span><span class=\"w\"> </span><span class=\"s2\">&quot;../../../assets/candidatejson/100151969.json&quot;</span><span class=\"p\">;</span>\r\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">canddiate100153028</span><span class=\"w\"> </span><span class=\"kr\">from</span><span class=\"w\"> </span><span class=\"s2\">&quot;../../../assets/candidatejson/100153028.json&quot;</span><span class=\"p\">;</span>\r\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">canddiate100152721</span><span class=\"w\"> </span><span class=\"kr\">from</span><span class=\"w\"> </span><span class=\"s2\">&quot;../../../assets/candidatejson/100152721.json&quot;</span><span class=\"p\">;</span>\r\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">canddiate100152084</span><span class=\"w\"> </span><span class=\"kr\">from</span><span class=\"w\"> </span><span class=\"s2\">&quot;../../../assets/candidatejson/100152084.json&quot;</span><span class=\"p\">;</span>\r\n<span class=\"k\">export</span><span class=\"w\"> </span><span class=\"k\">default</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">loadCandidateJson</span><span class=\"p\">(){</span>\r\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nx\">regionCandidateJson</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">any</span><span class=\"p\">[]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[];</span>\r\n<span class=\"nx\">regionCandidateJson</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">canddiate100152821</span><span class=\"p\">);</span>\r\n<span class=\"nx\">regionCandidateJson</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">canddiate100151969</span><span class=\"p\">);</span>\r\n<span class=\"nx\">regionCandidateJson</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">canddiate100153028</span><span class=\"p\">);</span>\r\n<span class=\"nx\">regionCandidateJson</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">canddiate100152721</span><span class=\"p\">);</span>\r\n<span class=\"nx\">regionCandidateJson</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">canddiate100152084</span><span class=\"p\">);</span>\r\n<span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">regionCandidateJson</span><span class=\"p\">;</span>\r\n<span class=\"p\">}</span>\r\n</code></pre></div></td></tr></table></div>\r\n </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div\n            id=\"pygen-1\"\n            class=\"w-full flex items-center justify-center\"\n            style=\"\"\n            >\n                <div\n                id=\"pygen-2\"\n                class=\"w-full flex items-center justify-center\"\n                style=\"\"\n                >\n                    <div\n                    id=\"pygen-3\"\n                    class=\"w-full\"\n                    style=\"max-width:800px;\"\n                    >\n                        <p>(이런 파일이 수백개 생성된다)</p>\n                    </div>\n                </div>\n            </div>\n            \n            <div\n            id=\"pygen-1\"\n            class=\"w-full flex items-center justify-center\"\n            style=\"padding-top: 1.25rem;padding-bottom: 1.25rem;\"\n            >\n                <div\n                id=\"pygen-2\"\n                class=\"w-full flex items-center justify-center\"\n                style=\"--tw-bg-opacity: 1; background-color: rgba(255, 251, 235, var(--tw-bg-opacity));\"\n                >\n                    <div\n                    id=\"pygen-3\"\n                    class=\"w-full\"\n                    style=\"max-width:800px;\"\n                    >\n                        <div class=\"w-full py-5 flex flex-col items-center \">\n        <img class=\"py-5 \" style src=\"/static/obsidian/Pasted image 20240415202354.png\"></img>\n        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div\n            id=\"pygen-1\"\n            class=\"w-full flex items-center justify-center\"\n            style=\"\"\n            >\n                <div\n                id=\"pygen-2\"\n                class=\"w-full flex items-center justify-center\"\n                style=\"\"\n                >\n                    <div\n                    id=\"pygen-3\"\n                    class=\"w-full\"\n                    style=\"max-width:800px;\"\n                    >\n                        <h3>사이트 호스팅</h3><p>사이트 호스팅은 그냥 무로료 간편하게 github pages를 사용했다. </p><h3>홍보</h3><p>사이트 구현이야 어떻게는 할수 있는데 역시 홍보가 제일 어려웠다. 네이버 카페, 각종 오픈채팅방을 들어가서 사이트를 열심히 홍보했지만 그렇게 많은 사람들이 들어오진 않았다.  페이스북이나 인스타는 일종의 페이지를 만들어서 해당 광고를 띄울수도 있다. 그래서 광고 띄우려고 페이지 만들고 광고신청까지 했지만, 광고가 거절당했다. 정치와 민감하게 관련되어있어서 쉽게 허락해주지 않는것 같다. 다음에 이런 사이트를 만든다면 홍보 채널을 잘 알아보고 고려해야할듯 싶다. </p><h1>향후 해볼 일</h1>\n                    </div>\n                </div>\n            </div>\n            \n            <div\n            id=\"pygen-1\"\n            class=\"w-full flex items-center justify-center\"\n            style=\"\"\n            >\n                <div\n                id=\"pygen-2\"\n                class=\"w-full flex items-center justify-center\"\n                style=\"\"\n                >\n                    <div\n                    id=\"pygen-3\"\n                    class=\"w-full\"\n                    style=\"max-width:800px;\"\n                    >\n                        <li>후보자 정보 제거하고, 사이트 틀만 남기기</li>\n                    </div>\n                </div>\n            </div>\n            ", "outlinks": [], "resources": ["_🌲 Attachments/Pasted image 20240415200019.png", "_🌲 Attachments/Pasted image 20240415202354.png", "_🌲 Attachments/우리동네국회의원로고.png"], "inlinks": [], "filename": "20240415_1713179061073"}